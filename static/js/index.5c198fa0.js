(()=>{"use strict";var e={52711:function(e,t,a){var i=a("85893"),n=a("67294"),r=a("20745"),s=a("79655"),l=a("4973"),o=a("49464"),d=a("89250"),c=a("55287"),m=a("47389"),p=a("16451"),u=a("82061"),h=a("2848"),g=a("87584"),j=a("50387"),f=a("59408"),x=a("80430");let y=x.Z.create({baseURL:"https://ndzy-s.vercel.app",timeout:6e4,withCredentials:!1}),v=x.Z.create({baseURL:"https://music-api-five-blush.vercel.app",timeout:6e4,withCredentials:!0});y.interceptors.request.use(e=>{let t=sessionStorage.getItem("token");return t&&(e.headers={Authorization:`Bearer ${t}`}),e},e=>{Promise.reject(e).then()}),y.interceptors.response.use(e=>{var t,a;return(null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.msg)&&f.ZP.info({content:null==e?void 0:null===(a=e.data)||void 0===a?void 0:a.msg}).then(),e.data},e=>{var t,a;if((null==e?void 0:null===(a=e.response)||void 0===a?void 0:null===(t=a.data)||void 0===t?void 0:t.statusCode)===401){"#/login"!==window.location.hash&&"#/"!==window.location.hash&&(window.location.href=`${window.location.origin}/#/login`);return}f.ZP.error({content:"出错了，请联系管理员"}).then()});let b=e=>[...e].sort((e,t)=>e.order-t.order).map(e=>{let t={...e,key:e.id,label:e.title,value:e.id};return Array.isArray(e.children)&&e.children.length>0?t.children=b(e.children):delete t.children,t}),w="NDZY",[I,Z]=function(e,t){let a=n.createContext(void 0);function r(e){let{children:t,...r}=e,s=n.useMemo(()=>r,Object.values(r));return(0,i.jsx)(a.Provider,{value:s,children:t})}return r.displayName=e+"Provider",[r,function(i){let r=n.useContext(a);if(r)return r;if(void 0!==t)return t;throw Error(`\`${i}\` must be used within \`${e}\``)}]}(w),G=()=>Z(w),k=e=>{let{children:t}=e,[a,r]=(0,n.useState)(!1),[s,l]=(0,n.useState)([]),[o,d]=(0,n.useState)([]),[c,m]=(0,n.useState)([]),[p,u]=(0,n.useState)(),[h,g]=(0,n.useState)(),j=async()=>{r(!0);let e=await y({url:"/auth",method:"GET"});return e&&sessionStorage.setItem("name",e.data.name),r(!1),e},x=async e=>{var t,a,i;r(!0);let n=await y({url:"/user/login",method:"POST",data:e});(null==n?void 0:null===(t=n.data)||void 0===t?void 0:t.token)&&(sessionStorage.setItem("token",null==n?void 0:null===(a=n.data)||void 0===a?void 0:a.token),sessionStorage.setItem("name",null==n?void 0:null===(i=n.data)||void 0===i?void 0:i.name),window.location.reload()),r(!1)},w=async()=>{r(!0);let e=await y({url:"/article",method:"GET"});r(!1),l(b((null==e?void 0:e.data)||[]))},Z=async e=>{r(!0),await y({url:`/article/${e}`,method:"DELETE"}),r(!1),g(void 0),w().then()},G=async(e,t)=>{r(!0),await y({url:`/article/${e}`,method:"PATCH",data:t});let a=await y({url:`/article/${e}`,method:"GET"});r(!1),g(null==a?void 0:a.data),w().then()},k=async e=>{r(!0),await y({url:"/article",method:"POST",data:e}),r(!1),w().then()},_=async e=>{r(!0);let t=await y({url:`/article/${e}`,method:"GET"});r(!1),g(null==t?void 0:t.data),w().then()},M=async e=>{let t;r(!0);let a=await y(`/article/${e}`);return t=a.data.root?(await y("/article/pid/0")).data:(await y(`/article/pid/${a.data.parent.id}`)).data,r(!1),t},z=async e=>{r(!0),await y("/article/updateOrder",{data:e,method:"POST"}),r(!1)},C=async e=>{r(!0);try{await v("/login/cellphone",{method:"GET",params:{...e}}),await S(),r(!1)}catch(e){r(!1)}},S=async()=>{r(!0);try{if((await v("/login/status")).data.data.account){let e=await v("/user/account"),t=await v("/user/playlist",{method:"GET",params:{uid:e.data.account.id}});r(!1),m(t.data.playlist.map(e=>({id:e.id,name:e.name})));return}r(!1),f.ZP.info("请先登录")}catch(e){r(!1)}},E=async e=>{r(!0);try{let t=(await v("/playlist/detail",{method:"GET",params:{id:e}})).data.playlist.trackIds.map(e=>e.id),a=(await v("/song/detail",{method:"GET",params:{ids:t.toString()}})).data.songs.map(e=>{let{id:t,name:a,al:i,ar:n,mv:r,dt:s}=e;return{id:t,name:a,artists:n,duration:s,mvId:r,albumName:i.name,img:i.picUrl}});r(!1),d(a)}catch(e){r(!1)}},P=async()=>{r(!0);try{let e=(await v("/user/cloud",{method:"GET",params:{limit:1e4}})).data.data.map(e=>{let{songId:t,songName:a,simpleSong:i}=e;return{id:t,name:a,img:i.al.picUrl}});r(!1),d(e)}catch(e){r(!1)}},O=async e=>{r(!0);try{let t=await v("/song/url/v1",{method:"GET",params:{id:e,level:"lossless"}}),a=await v("/song/detail",{method:"GET",params:{ids:[e].toString()}});t.data.data&&t.data.data.length>0&&u({...t.data.data[0],name:a.data.songs[0].name,picUrl:a.data.songs[0].al.picUrl}),r(!1)}catch(e){r(!1)}};return(0,i.jsx)(I,{loading:a,setLoading:r,articles:s,article:h,songs:o,songGroup:c,song:p,api:{login:{auth:j,login:x},article:{query:w,del:Z,find:_,save:G,create:k,initOrderData:M,updateOrder:z},music:{login:C,query:E,song:O,cloud:P,group:S}},children:t})},{DirectoryTree:_}=h.Z,M=()=>{let e=(0,d.s0)(),t=G(),[a,r]=(0,n.useState)([]),[s,o]=(0,n.useState)([]),[h,f]=(0,n.useState)(!0);return(0,i.jsx)(_,{treeData:t.articles,onExpand:e=>{r(e),f(!1)},expandedKeys:a,autoExpandParent:h,onSelect:e=>{o(e)},selectedKeys:s,titleRender:a=>(0,i.jsxs)(g.Z,{size:24,children:[(0,i.jsx)("span",{style:{display:"inline-block",width:120},children:a.title}),(0,i.jsx)(c.Z,{onClick:()=>{e(`/article/view/${a.key}`)}}),(0,i.jsx)(m.Z,{onClick:()=>{e(`/article/edit/${a.key}`)}}),(0,i.jsx)(l.Z,{onClick:()=>{e(`/article/add/${a.key}`)}}),(0,i.jsx)(p.Z,{onClick:()=>{e(`/article/sort/${a.key}`)}}),a.isLeaf&&(0,i.jsx)(j.Z,{title:"删除后不可恢复",description:"确认删除？",onConfirm:()=>{t.api.article.del(a.key).then()},onCancel:()=>{},okText:"确认",cancelText:"取消",children:(0,i.jsx)(u.Z,{})})]})})};var z=a("22880"),C=a("70091"),S=a("28113"),E=a("53735"),P=a("50716");a("38351");var O=a("57357");let T=e=>{let{value:t,onChange:a}=e,n="id_md_"+(0,O.Z)(),r=async(e,t)=>{t((await Promise.all(e.map(e=>new Promise((t,a)=>{let i=new FormData,n=e.name;i.append("file",e),i.append("name",n),y.post("/img",i,{headers:{"Content-Type":"multipart/form-data"}}).then(e=>t(e)).catch(e=>a(e))})))).map(e=>e.data.url))};return(0,i.jsx)(P.E,{editorId:n,modelValue:t,onChange:a,onUploadImg:r,toolbars:["preview","-","bold","underline","italic","-","strikeThrough","title","sub","sup","quote","unorderedList","orderedList","task","-","codeRow","code","link","image","table","mermaid","katex","-","revoke","next","save","=","pageFullscreen","fullscreen","htmlPreview","catalog"]})};var q=a("13093"),N=a("78234"),R=a("66659"),$=a("94697"),B=a("32339"),U=a("45587"),F=a("24285"),L=a("62793"),A=a("644");let D=[{title:"唯一标识",dataIndex:"id"},{title:"标题",dataIndex:"title"},{title:"order",dataIndex:"order"}],V=e=>{let{attributes:t,listeners:a,setNodeRef:n,transform:r,transition:s,isDragging:l}=(0,U.nB)({id:e["data-row-key"]}),o={...e.style,transform:F.ux.Translate.toString(r),transition:s,cursor:"move",...l?{position:"relative",zIndex:9999}:{}};return(0,i.jsx)("tr",{...e,ref:n,style:o,...t,...a})};var K=a("14361"),H=a("53682"),W=a("87687"),X=a("80492"),Y=a("81282");let J=()=>(console.error((0,d.lk)()),(0,i.jsxs)("div",{children:[(0,i.jsx)("h1",{children:"出错了！"}),(0,i.jsx)("p",{children:"抱歉，页面不存在或您没有访问权限。"}),(0,i.jsx)("a",{href:"/",children:"返回首页"})]}));var Q=a("74450");let ee=e=>{let{imgList:t=[],style:a={}}=e,r=(0,n.useRef)(null),s=(0,n.useRef)(null),l=[],o=t.length;return(0,n.useEffect)(()=>{let e=r.current,a=s.current;if(!e||!a)return;let i=e.getContext("2d"),n=a.getContext("2d");for(let e=1;e<=o;e++){let a=new Image;a.src=t[e-1],l[e-1]=a}let d=0,c=()=>{++d===o&&m()};l.forEach(e=>{e.onload=c});let m=()=>{let e=Q.p8.timeline({repeat:-1});l.forEach((t,a)=>{e.to({},{duration:.02,onUpdate:()=>p(a)})})},p=t=>{n.clearRect(0,0,a.width,a.height),n.drawImage(l[t],0,0,a.width,a.height),i.clearRect(0,0,e.width,e.height),i.drawImage(a,0,0,e.width,e.height)}},[o]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("canvas",{ref:r,style:{width:400,height:300,...a}}),(0,i.jsx)("canvas",{ref:s,style:{display:"none",width:400,height:300,...a}})]})},et=a.p+"static/image/IMG_8998.02ecbc12.jpg",ea=a.p+"static/image/IMG_8999.33173c86.jpg",ei=a.p+"static/image/IMG_9001.2dc8f3ef.jpg",en=a.p+"static/image/IMG_9002.8716aadf.jpg",er=a.p+"static/image/IMG_9003.069f2e2b.jpg",es=a.p+"static/image/IMG_9004.dc620fb1.jpg",el=a.p+"static/image/IMG_9005.37d8519f.jpg",eo=a.p+"static/image/IMG_9006.704e2ffc.jpg",ed=a.p+"static/image/IMG_9007.9dabf61f.jpg",ec=a.p+"static/image/IMG_9008.bcab9303.jpg",em=a.p+"static/image/IMG_9009.332a7b3d.jpg",ep=a.p+"static/image/IMG_9010.060f3bb0.jpg",eu=a.p+"static/image/IMG_9011.649a9f73.jpg",eh=a.p+"static/image/IMG_9012.ef442ba2.jpg",eg=a.p+"static/image/IMG_9013.074f41e6.jpg",ej=a.p+"static/image/IMG_9014.c5b0ca31.jpg",ef=a.p+"static/image/IMG_9015.16d513c0.jpg",ex=a.p+"static/image/IMG_9016.70b63e0b.jpg",ey=a.p+"static/image/IMG_9017.3be1864c.jpg",ev=a.p+"static/image/IMG_9018.b0d42e50.jpg",eb=a.p+"static/image/IMG_9019.ce159c6e.jpg",ew=a.p+"static/image/IMG_9020.3a30f93a.jpg",eI=a.p+"static/image/IMG_9022.840eb790.jpg",eZ=a.p+"static/image/IMG_9023.0fa3668b.jpg",eG=a.p+"static/image/IMG_9024.ef86f355.jpg",ek=a.p+"static/image/IMG_9025.6b35ec49.jpg",e_=a.p+"static/image/IMG_9026.96ebcfc1.jpg",eM=a.p+"static/image/IMG_9027.d4578350.jpg",ez=a.p+"static/image/IMG_9028.b97a8a31.jpg",eC=a.p+"static/image/IMG_9029.874fa668.jpg",eS=a.p+"static/image/IMG_9030.e6e39fa9.jpg",eE=a.p+"static/image/IMG_9031.d6a09444.jpg",eP=a.p+"static/image/IMG_9032.1f19e262.jpg",eO=a.p+"static/image/IMG_9033.739c8eda.jpg",eT=a.p+"static/image/IMG_9034.42ccc28f.jpg",eq=a.p+"static/image/IMG_9035.7cab9c23.jpg",eN=a.p+"static/image/IMG_9036.f2bccb3e.jpg",eR=a.p+"static/image/IMG_9037.c641b79a.jpg",e$=a.p+"static/image/IMG_9038.bd77b1ea.jpg",eB=a.p+"static/image/IMG_9039.6f95120f.jpg",eU=a.p+"static/image/IMG_9040.1e61baf9.jpg",eF=a.p+"static/image/IMG_9041.4b665536.jpg",eL=a.p+"static/image/IMG_9042.3edeb210.jpg",eA=a.p+"static/image/IMG_9043.2c3f2f0c.jpg",eD=a.p+"static/image/IMG_9044.5fb86036.jpg",eV=a.p+"static/image/IMG_9045.9351a2d8.jpg",eK=[{src:"https://github.com/Gamote/lottie-react",name:"lottie-react"},{src:"https://github.com/airbnb/lottie-web",name:"lottie-web"},{src:"https://www.ndzy01.com/ndzy-antd",name:"在线文档"},{src:"https://www.ndzy01.com/ndzy-project",name:"ndzy-project"},{src:"https://www.yuque.com/u22409297/fqv2ol",name:"blog"},{src:"https://www.yuque.com/u22409297/aqgf01",name:"数据结构与算法"},{src:"https://labuladong.github.io/algo/di-ling-zh-bfe1b/xue-xi-sua-01220/",name:"算法小抄"},{src:"http://zh.zlibrary-china.se/",name:"图书"},{src:"https://github.com/liujuping",name:"liujuping"},{src:"https://pythontutor.com/javascript.html#mode=edit",name:"javascript可视化"},{src:"https://www.jsdelivr.com/package/gh/ndzy01/img?tab=stats",name:"ndzy img 访问量统计"},{src:"https://juejin.cn/post/6844904131795091464",name:"React源码学习"},{src:"https://pomb.us/build-your-own-react/",name:"Build your own React"},{src:"https://cn1.hkss-net.xyz/auth/login",name:"vpn"},{src:"https://visualgo.net/zh",name:"算法可视化"},{src:"https://visualgo.net/zh",name:"算法可视化"},{src:"https://ndzy01.gitee.io/ndzy-manage/",name:"管理页"}];var eH=a("32444"),eW=a("82925"),eX=a("43503"),eY=a("34041"),eJ=a("62601"),eQ=a("22004"),e0=a.n(eQ),e1=a("26450"),e9=a("18629"),e4=a("38014"),e3=a("21985"),e2=a("932");async function e5(){return{name:sessionStorage.getItem("name")}}let e6=[{key:"/",label:"首页"},{key:"/article",label:"文章"},{key:"/music",label:"网易云音乐"},{key:"/ndzy-music",label:"音乐"}],e8=(0,s.cP)([{path:"/",element:(0,i.jsx)(()=>{let e=(0,d.f_)(),t=(0,d.s0)(),[a,r]=(0,n.useState)(!1);return(0,i.jsxs)("div",{className:"container",children:[a?(0,i.jsx)(E.ZP,{style:{position:"fixed",left:16,top:16},icon:(0,i.jsx)(e3.Z,{}),onClick:()=>r(!1)}):(0,i.jsxs)("aside",{className:"sidebar",style:{display:a?"none":"block"},children:[(0,i.jsx)("div",{style:{display:"flex",justifyContent:"center",marginBottom:16},children:(0,i.jsx)(E.ZP,{icon:(0,i.jsx)(e4.Z,{}),onClick:()=>r(!0)})}),(0,i.jsxs)("header",{className:"header",children:[(0,i.jsxs)("h1",{children:["欢迎 ",(null==e?void 0:e.name)||""]}),(0,i.jsx)("div",{className:"user-info",children:(0,i.jsx)("a",{onClick:()=>{sessionStorage.setItem("token",""),sessionStorage.setItem("name",""),t("/login"),window.location.reload()},children:"注销"})})]}),(0,i.jsx)(e2.Z,{style:{borderRadius:5},onClick:e=>{t(e.key)},defaultSelectedKeys:["/"],mode:"inline",items:e6})]}),(0,i.jsx)("main",{className:"main-content",style:{overflow:"auto"},children:(0,i.jsx)("section",{className:"content",id:"ndzy-content",children:(0,i.jsx)(d.j3,{})})})]})},{}),errorElement:(0,i.jsx)(J,{}),loader:e5,children:[{index:!0,element:(0,i.jsx)(()=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{style:{padding:"1rem"},children:[(0,i.jsx)(ee,{imgList:[et,ea,ei,en,er,es,el,eo,ed,ec,em,ep,eu,eh,eg,ej,ef,ex,ey,ev,eb,ew,eu,eI,eZ,eG,ek,e_,eM,ez,eC,eS,eE,eP,eO,eT,eq,eN,eR,e$,eB,eU,eF,eL,eA,eD,eV]}),(0,i.jsx)("ul",{children:eK.map(e=>(0,i.jsx)("li",{style:{margin:"1rem 0"},children:(0,i.jsx)("a",{target:"_blank",href:e.src,children:e.name})},Math.random()))})]}),(0,i.jsx)("a",{href:"https://beian.miit.gov.cn/",target:"_blank",children:"豫ICP备19035495号-1"})]}),{})},{path:"/article",element:(0,i.jsx)(()=>(0,i.jsx)(d.j3,{}),{}),errorElement:(0,i.jsx)(J,{}),children:[{index:!0,element:(0,i.jsx)(()=>{let e=(0,d.s0)(),t=G();return(0,n.useEffect)(()=>{t.api.article.query().then()},[]),t.loading?(0,i.jsx)(o.Z,{size:"large"}):(0,i.jsxs)("div",{children:[(0,i.jsx)(l.Z,{style:{margin:16},onClick:()=>{e("/article/add/0")}}),(0,i.jsx)(M,{})]})},{})},{path:"/article/add/:id",element:(0,i.jsx)(()=>{let e=(0,d.s0)(),t=G(),{id:a}=(0,d.UO)();return t.loading?(0,i.jsx)(o.Z,{size:"large"}):(0,i.jsxs)(z.Z,{initialValues:{title:"",content:"",parentId:"0"===a?void 0:a},onFinish:a=>{t.api.article.create({...a}).then(()=>{e("/article")})},children:[(0,i.jsx)(z.Z.Item,{name:"parentId",children:(0,i.jsx)(C.Z,{showSearch:!0,style:{width:"100%"},dropdownStyle:{maxHeight:400,overflow:"auto"},placeholder:"请选择父级目录",allowClear:!0,treeDefaultExpandAll:!0,treeData:t.articles})}),(0,i.jsx)(z.Z.Item,{name:"title",rules:[{required:!0,message:"标题不能为空"}],children:(0,i.jsx)(S.Z,{placeholder:"请输入标题"})}),(0,i.jsx)(z.Z.Item,{name:"content",rules:[{required:!0,message:"内容不能为空"}],children:(0,i.jsx)(T,{})}),(0,i.jsx)(E.ZP,{disabled:t.loading,htmlType:"submit",type:"primary",block:!0,children:"提交"})]})},{})},{path:"/article/edit/:id",element:(0,i.jsx)(()=>{var e,t;let a=G(),{id:n}=(0,d.UO)(),r=(0,d.s0)(),s=()=>{!n&&r("/article"),a.api.article.find(n||"").then()};return(0,q.Z)(()=>{s()},[n]),(0,N.Z)(()=>{s()}),a.loading?(0,i.jsx)(o.Z,{size:"large"}):(0,i.jsxs)(z.Z,{initialValues:{title:null===(e=a.article)||void 0===e?void 0:e.title,content:null===(t=a.article)||void 0===t?void 0:t.content},onFinish:e=>{var t,i;(null===(t=a.article)||void 0===t?void 0:t.id)&&a.api.article.save(null===(i=a.article)||void 0===i?void 0:i.id,{...e}).then(()=>{r("/article")})},children:[(0,i.jsx)(z.Z.Item,{name:"title",rules:[{required:!0,message:"标题不能为空"}],children:(0,i.jsx)(S.Z,{placeholder:"请输入标题"})}),(0,i.jsx)(z.Z.Item,{name:"content",rules:[{required:!0,message:"内容不能为空"}],children:(0,i.jsx)(T,{})}),(0,i.jsx)(E.ZP,{disabled:a.loading,htmlType:"submit",type:"primary",block:!0,children:"提交"})]})},{})},{path:"/article/view/:id",element:(0,i.jsx)(()=>{var e,t;let a=(0,n.useRef)(null),{id:r}=(0,d.UO)(),s=(0,d.s0)(),l="id_md_"+(0,O.Z)(),c=G(),[m,p]=(0,n.useState)(!1),[u,h]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{!r&&s("/article"),c.api.article.find(r||"").then()},[s,r]),(0,n.useEffect)(()=>{a.current=document.getElementById("ndzy-content")},[]),c.loading?(0,i.jsx)(o.Z,{size:"large"}):(0,i.jsxs)("div",{children:[(0,i.jsx)(X.Z,{editorId:l,modelValue:null===(e=c.article)||void 0===e?void 0:e.content}),(0,i.jsx)(Y.M,{editorId:l,scrollElement:a.current}),(0,i.jsxs)(A.Z.Group,{shape:"circle",style:{insetInlineEnd:24,top:24},children:[(0,i.jsx)(A.Z,{icon:(0,i.jsx)(K.Z,{}),onClick:()=>{p(!0)}}),(0,i.jsx)(A.Z,{icon:(0,i.jsx)(H.Z,{}),onClick:()=>{h(!0)}})]}),(0,i.jsx)(W.Z,{title:"目录",onClose:()=>{h(!1)},open:u,zIndex:0x3b9ac9ff,children:(0,i.jsx)(M,{})}),(0,i.jsxs)(W.Z,{title:"文章目录",onClose:()=>{p(!1)},open:m,zIndex:0x3b9ac9ff,children:[(0,i.jsx)(Y.M,{editorId:l,scrollElement:a.current}),(0,i.jsx)("div",{style:{display:"none"},children:(0,i.jsx)(X.Z,{editorId:l,modelValue:null===(t=c.article)||void 0===t?void 0:t.content})})]})]})},{})},{path:"/article/sort/:id",element:(0,i.jsx)(()=>{let e=(0,d.s0)(),t=G(),{id:a}=(0,d.UO)(),[r,s]=(0,n.useState)([]),l=(0,$.Dy)((0,$.VT)($.we,{activationConstraint:{distance:1}}));return(0,n.useEffect)(()=>{a&&t.api.article.initOrderData(a).then(e=>{s(e||[])})},[a]),t.loading?(0,i.jsx)(o.Z,{size:"large"}):(0,i.jsx)($.LB,{sensors:l,modifiers:[B.DL],onDragEnd:e=>{let{active:t,over:a}=e;t.id!==(null==a?void 0:a.id)&&s(e=>{let i=e.findIndex(e=>e.id===t.id),n=e.findIndex(e=>e.id===(null==a?void 0:a.id)),r=e[i].order;return e[i].order=e[n].order,e[i].isSort=!0,e[n].order=r,e[n].isSort=!0,(0,U.Rp)(e,i,n)})},children:(0,i.jsxs)(U.Fo,{items:r.map(e=>e.id),strategy:U.qw,children:[(0,i.jsx)(L.Z,{pagination:!1,components:{body:{row:V}},rowKey:"id",columns:D,dataSource:r}),(0,i.jsx)(A.Z.Group,{shape:"circle",style:{insetInlineEnd:24},children:(0,i.jsx)(A.Z,{icon:(0,i.jsx)(R.Z,{}),onClick:()=>{if(0!==r.filter(e=>e.isSort).map(e=>({id:e.id,order:e.order})).length)t.api.article.updateOrder(r.filter(e=>e.isSort).map(e=>({id:e.id,order:e.order}))).then(()=>{e("/article")})}})})]})})},{})}]},{path:"/music",element:(0,i.jsx)(()=>{let[e,t]=(0,n.useState)(!1),a=G(),[r,s]=(0,n.useState)("");return(0,n.useEffect)(()=>{a.api.music.group()},[]),(0,eX.Z)(()=>{a.songGroup.length>0&&(s(a.songGroup[0].id),a.api.music.query(a.songGroup[0].id))},[a.songGroup]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(g.Z,{style:{marginBottom:16},children:[(0,i.jsx)(E.ZP,{type:"primary",onClick:()=>{t(!0)},children:"登录"}),(0,i.jsx)(eY.Z,{style:{width:120},value:r,onChange:e=>{s(e),a.api.music.query(e)},options:a.songGroup.map(e=>({label:e.name,value:e.id}))}),(0,i.jsx)(E.ZP,{onClick:()=>{a.api.music.cloud(),s("")},children:"云盘"})]}),a.loading&&(0,i.jsx)(o.Z,{size:"large",style:{marginBottom:16}}),(0,i.jsxs)("div",{style:{paddingBottom:100},children:[(0,i.jsx)(g.Z,{wrap:!0,size:32,children:a.songs.map(e=>(0,i.jsxs)("div",{style:{width:200},children:[(0,i.jsx)(eJ.Z,{src:e.img,style:{width:120,height:160}}),(0,i.jsx)(E.ZP,{type:"link",onClick:()=>{a.api.music.song(e.id)},children:e.name})]},e.id))}),a.song&&(0,i.jsxs)("div",{style:{position:"fixed",bottom:32,left:"50%",transform:"translateX(-50%)",display:"flex",alignItems:"center"},children:[(0,i.jsxs)("div",{children:[(0,i.jsx)(eJ.Z,{src:a.song.picUrl,style:{width:80,height:60}}),a.song&&a.song.name]}),(0,i.jsx)(e0(),{playing:!0,height:60,url:a.song.url,controls:!0,onEnded:()=>{let e=Math.floor(Math.random()*a.songs.length);a.api.music.song(a.songs[e].id)}})]})]}),(0,i.jsx)(W.Z,{open:e,onClose:()=>{t(!1)},children:(0,i.jsx)(eH.ZP,{locale:eW.default,children:(0,i.jsxs)(z.Z,{name:"login",style:{maxWidth:600},initialValues:{remember:!0},onFinish:e=>{a.api.music.login(e).then(()=>{t(!1)})},autoComplete:"off",children:[(0,i.jsx)(z.Z.Item,{labelCol:{span:24},wrapperCol:{span:24},label:"手机号",name:"phone",rules:[{required:!0,message:"手机号不能为空"}],children:(0,i.jsx)(S.Z,{})}),(0,i.jsx)(z.Z.Item,{labelCol:{span:24},wrapperCol:{span:24},label:"密码",name:"password",rules:[{required:!0,message:"密码不能为空"}],children:(0,i.jsx)(S.Z.Password,{})}),(0,i.jsx)(z.Z.Item,{wrapperCol:{offset:8,span:16},children:(0,i.jsx)(E.ZP,{type:"primary",htmlType:"submit",loading:a.loading,children:"登陆"})})]})})})]})},{})},{path:"/ndzy-music",element:(0,i.jsx)(()=>{let[e,t]=(0,n.useState)([]),[a,r]=(0,n.useState)(),[s,l]=(0,n.useState)("0"),[o,d]=(0,e1.Z)("currentIndex",{defaultValue:"0"}),c=async()=>{let e=[];for await(let t of["https://www.ndzy01.com/music01/data.json","https://www.ndzy01.com/music02/data.json","https://www.ndzy01.com/music03/data.json","https://www.ndzy01.com/music04/data.json","https://www.ndzy01.com/music05/data.json","https://www.ndzy01.com/music06/data.json","https://www.ndzy01.com/music07/data.json","https://www.ndzy01.com/music08/data.json","https://www.ndzy01.com/music09/data.json"])try{let a=await (0,x.Z)(t);a&&e.push(...a.data)}catch(e){}t(e)};return(0,n.useEffect)(()=>{c().then(()=>{r(e[o])})},[]),(0,e9.Z)(()=>{c().then()},6e4),(0,q.Z)(()=>{r(e[o])},[o]),(0,i.jsxs)(i.Fragment,{children:[a&&(0,i.jsxs)("div",{style:{textAlign:"center",marginBottom:16},children:["正在播放：",(0,i.jsx)("span",{style:{color:"pink"},children:a.name})]}),(0,i.jsx)(eY.Z,{value:s,onChange:e=>l(e),options:[{label:"顺序",value:"0"},{label:"随机",value:"1"}]}),(0,i.jsxs)("div",{style:{paddingBottom:140,position:"relative"},children:[(0,i.jsx)(g.Z,{wrap:!0,size:32,children:e.map((e,t)=>(0,i.jsx)("div",{style:{width:200},children:(0,i.jsx)(E.ZP,{style:(null==a?void 0:a.id)===e.id?{color:"green"}:{},type:"link",onClick:()=>{d(String(t))},children:e.name})},e.id))}),a&&a.url&&(0,i.jsx)(e0(),{style:{zIndex:999,position:"absolute",bottom:0,left:"50%",transform:"translateX(-50%)"},playing:!0,height:100,width:300,url:a.url,title:a.name,playsinline:!0,controls:!0,onEnded:()=>{"1"===s&&d(Math.floor(Math.random()*e.length)+""),"0"===s&&(Number(o)===e.length-1?d("0"):d(String(Number(o)+1)))}})]})]})},{})},{path:"/login",element:(0,i.jsx)(()=>{let e=(0,d.s0)(),t=G();return(0,i.jsx)(eH.ZP,{locale:eW.default,children:(0,i.jsxs)(z.Z,{name:"login",style:{maxWidth:600},initialValues:{remember:!0},onFinish:a=>{t.api.login.login(a).then(()=>{e("/"),window.location.reload()})},autoComplete:"off",children:[(0,i.jsx)(z.Z.Item,{labelCol:{span:24},wrapperCol:{span:24},label:"手机号",name:"mobile",rules:[{required:!0,message:"手机号不能为空"}],children:(0,i.jsx)(S.Z,{})}),(0,i.jsx)(z.Z.Item,{labelCol:{span:24},wrapperCol:{span:24},label:"密码",name:"password",rules:[{required:!0,message:"密码不能为空"}],children:(0,i.jsx)(S.Z.Password,{})}),(0,i.jsx)(z.Z.Item,{wrapperCol:{offset:8,span:16},children:(0,i.jsx)(E.ZP,{type:"primary",htmlType:"submit",loading:t.loading,children:"登陆"})})]})})},{})}]}]),e7=document.getElementById("root");e7&&r.createRoot(e7).render((0,i.jsx)(n.StrictMode,{children:(0,i.jsx)(()=>(0,i.jsx)(k,{children:(0,i.jsx)(s.pG,{router:e8})}),{})}))}},t={};function a(i){var n=t[i];if(void 0!==n)return n.exports;var r=t[i]={exports:{}};return e[i](r,r.exports,a),r.exports}a.m=e,a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};a.t=function(i,n){if(1&n&&(i=this(i)),8&n||"object"==typeof i&&i&&(4&n&&i.__esModule||16&n&&"function"==typeof i.then))return i;var r=Object.create(null);a.r(r);var s={};e=e||[null,t({}),t([]),t(t)];for(var l=2&n&&i;"object"==typeof l&&!~e.indexOf(l);l=t(l))Object.getOwnPropertyNames(l).forEach(function(e){s[e]=function(){return i[e]}});return s.default=function(){return i},a.d(r,s),r}})(),a.d=function(e,t){for(var i in t)a.o(t,i)&&!a.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},a.f={},a.e=function(e){return Promise.all(Object.keys(a.f).reduce(function(t,i){return a.f[i](e,t),t},[]))},a.u=function(e){return"static/js/async/"+({1895:"npm.lezer.python",3299:"npm.codemirror.lang-wast",3542:"npm.lezer.xml",3709:"npm.codemirror.lang-vue",3978:"npm.codemirror.lang-sql",4016:"npm.codemirror.lang-php",483:"npm.codemirror.lang-liquid",5007:"npm.codemirror.lang-java",5384:"npm.codemirror.lang-go",5561:"npm.codemirror.lang-sass",5753:"npm.lezer.go",5950:"npm.lezer.sass",5958:"npm.codemirror.lang-yaml",6416:"npm.lezer.yaml",657:"npm.codemirror.lang-rust",6615:"npm.codemirror.lang-angular",6877:"npm.codemirror.legacy-modes",808:"npm.lezer.rust",8117:"npm.lezer.php",836:"npm.codemirror.lang-less",8427:"npm.codemirror.lang-python",8893:"npm.lezer.java",8915:"npm.lezer.cpp",8950:"npm.codemirror.lang-cpp",9461:"npm.lezer.json",9553:"npm.codemirror.lang-json",9649:"npm.codemirror.lang-xml"})[e]+"."+({1895:"3298a80f",3299:"f4c6f701",3542:"d7b466d5",3709:"83e6d117",3978:"15a917c3",4016:"79a40abe",483:"39e72eef",5007:"4af997e1",5384:"c4b7afb3",5561:"23c54151",5753:"c1af8e2f",5950:"67a16e19",5958:"7914b048",6416:"f4998ae2",657:"82745582",6615:"dba57c79",6877:"cb74b960",808:"4e23dc52",8117:"4d580f00",836:"1e310b51",8427:"97b9bc60",8893:"8c719a01",8915:"9ec44730",8950:"c623df26",9461:"64d8ed68",9553:"8c5b9c4e",9649:"4c000557"})[e]+".js"},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},(()=>{var e={},t="ndzy:";a.l=function(i,n,r,s){if(e[i]){e[i].push(n);return}if(void 0!==r){for(var l,o,d=document.getElementsByTagName("script"),c=0;c<d.length;c++){var m=d[c];if(m.getAttribute("src")==i||m.getAttribute("data-webpack")==t+r){l=m;break}}}!l&&(o=!0,(l=document.createElement("script")).charset="utf-8",l.timeout=120,a.nc&&l.setAttribute("nonce",a.nc),l.setAttribute("data-webpack",t+r),l.src=i),e[i]=[n];var p=function(t,a){l.onerror=l.onload=null,clearTimeout(u);var n=e[i];if(delete e[i],l.parentNode&&l.parentNode.removeChild(l),n&&n.forEach(function(e){return e(a)}),t)return t(a)},u=setTimeout(p.bind(null,void 0,{type:"timeout",target:l}),12e4);l.onerror=p.bind(null,l.onerror),l.onload=p.bind(null,l.onload),o&&document.head.appendChild(l)}})(),a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e=[];a.O=function(t,i,n,r){if(i){r=r||0;for(var s=e.length;s>0&&e[s-1][2]>r;s--)e[s]=e[s-1];e[s]=[i,n,r];return}for(var l=1/0,s=0;s<e.length;s++){for(var i=e[s][0],n=e[s][1],r=e[s][2],o=!0,d=0;d<i.length;d++)(!1&r||l>=r)&&Object.keys(a.O).every(function(e){return a.O[e](i[d])})?i.splice(d--,1):(o=!1,r<l&&(l=r));if(o){e.splice(s--,1);var c=n();void 0!==c&&(t=c)}}return t}})(),a.p="/",a.rv=function(){return"1.0.10"},(()=>{var e={2980:0,9475:0};a.f.j=function(t,i){var n=a.o(e,t)?e[t]:void 0;if(0!==n){if(n)i.push(n[2]);else if(9475!=t){var r=new Promise(function(a,i){n=e[t]=[a,i]});i.push(n[2]=r);var s=a.p+a.u(t),l=Error();a.l(s,function(i){if(a.o(e,t)&&(0!==(n=e[t])&&(e[t]=void 0),n)){var r=i&&("load"===i.type?"missing":i.type),s=i&&i.target&&i.target.src;l.message="Loading chunk "+t+" failed.\n("+r+": "+s+")",l.name="ChunkLoadError",l.type=r,l.request=s,n[1](l)}},"chunk-"+t,t)}else e[t]=0}},a.O.j=function(t){return 0===e[t]};var t=function(t,i){var n=i[0],r=i[1],s=i[2],l,o,d=0;if(n.some(function(t){return 0!==e[t]})){for(l in r)a.o(r,l)&&(a.m[l]=r[l]);if(s)var c=s(a)}for(t&&t(i);d<n.length;d++)o=n[d],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(c)},i=self.webpackChunkndzy=self.webpackChunkndzy||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))})(),a.ruid="bundler=rspack@1.0.10";var i=a.O(void 0,["6794","649","5315","534","6917","5907","7518","5651","6351","5939","4283","8524","2790","8650","1424","1939","1193","4932","8150","9449","4906","7863","179","6379","8087","432","9066","7900","199","8277","5139","5092","4388","2892","1177","3784","4462","5020","2710","707","5269","687","5640","8348","3028","2385","4671","3151","1666","6018","9374","7975","3183","6312","553","9239","8037","1603","9511","916","5595","3931","1890","5815","2689","9666","7964","9125","6772","6383","9174","3044","9558","6101","6289","1402","240","2149","413","3505","6578","5405","9475","1907","3513","5500","3240","9211","8410","7475","6559","6847","4073","6640","9151","5440","6180","3476","1697","3455","7693","7430","7790","3122"],function(){return a("52711")});i=a.O(i)})();